#+TITLE: cljs-tryton
#+AUTHOR: 
#+DATE: 2019

* Overview

=cljs-tryton= is a Clojure/ClojureScript library that provides a convenient interface for interacting with [[https://www.tryton.org/][Tryton ERP]] systems via JSON-RPC. This library enables both Clojure and ClojureScript applications to communicate with Tryton servers, making it easy to integrate Tryton functionality into web applications, desktop tools, and server-side services.

* Features

- Cross-platform support (Clojure and ClojureScript)
- JSON-RPC communication with Tryton servers
- Session management and authentication
- Synchronous and asynchronous operation support
- Connection pooling and management
- Type-safe data exchange

* Installation

Add the following dependency to your =project.clj=:

#+BEGIN_SRC clojure
[cljs-tryton "0.1.0-SNAPSHOT"]
#+END_SRC

* Usage

** Basic Connection

#+BEGIN_SRC clojure
(require '[tryton.con :as con]
         '[clojure.core.async :refer [<!]])

;; Login to Tryton server (returns a channel)
(def session-chan (con/login "http://localhost:8000" "demo" "admin" "password" "en"))

;; Get the session (in a go block for async)
(go 
  (let [session (<! session-chan)]
    ;; Use session for further operations
    ))

;; For Tryton 4.0, use login4 instead:
;; (def session-chan (con/login4 "http://localhost:8000" "demo" "admin" "password"))
#+END_SRC

** Making RPC Calls

#+BEGIN_SRC clojure
;; Example: Search for party records
(go
  (let [session (<! session-chan)
        results (<! (con/model-search-read session "party.party" 
                                          [["name" "ilike" "John"]] 
                                          0 10 nil ["name" "email"]))]
    (println (:result results))))

;; Example: Direct RPC call
(go
  (let [session (<! session-chan)
        response (<! (con/call session "model.party.party.search_read" 
                              [[["name" "ilike" "John"]] 0 10 nil ["name" "email"]]))]
    (println (:result response))))
#+END_SRC

* API Documentation

The library is organized into several namespaces:

- =tryton.con= - Connection management
- =tryton.session= - Session handling and authentication  
- =tryton.sync= - Synchronization utilities

* Requirements

- Clojure 1.9+ or ClojureScript 1.10+
- Access to a Tryton server with JSON-RPC enabled

* Development

** Running Tests

#+BEGIN_SRC bash
lein test
#+END_SRC

** Building

#+BEGIN_SRC bash
lein jar
#+END_SRC

* License

Copyright Â© 2019

This program and the accompanying materials are made available under the
terms of the Eclipse Public License 2.0 which is available at
http://www.eclipse.org/legal/epl-2.0.

This Source Code may also be made available under the following Secondary
Licenses when the conditions for such availability set forth in the Eclipse
Public License, v. 2.0 are satisfied: GNU General Public License as published by
the Free Software Foundation, either version 2 of the License, or (at your
option) any later version, with the GNU Classpath Exception which is available
at https://www.gnu.org/software/classpath/license.html.
